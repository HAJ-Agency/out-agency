name: Publish Out Agency Theme to outagency.se

on:
   push:
      branches:
         - main

jobs:
   web-deploy:
      name: ðŸš€ Deploy Out Agency Theme to outagency.se
      runs-on: ubuntu-latest
      steps:
         - name: ðŸšš Get Latest Code
           uses: HAJ-Agency/checkout@v6.0.1

         - name: ðŸ“‚ Sync Files
           uses: HAJ-Agency/web-deploy@v1
           with:
              source-path: ./
              target-server: izanami.oderland.com
              remote-user: outagenc
              private-ssh-key: ${{ secrets.ID_ACTIONS }}
              destination-path: /home/outagenc/public_html/wp-content/themes/out/
              rsync-options: --dry-run --archive --verbose --compress --delete-after --human-readable --exclude=.git* --exclude=.git/ --exclude=README.md --exclude=readme.md --exclude=.gitignore

         - name: âœ… Done
           run: echo "Deployment to outagency.se complete!"

# https://github.com/SamKirkland/web-deploy
# https://github.com/actions/checkout
# https://stackoverflow.com/questions/58347746/automating-the-build-and-publish-process-with-github-actions-and-github-package
# https://github.com/actions/setup-node