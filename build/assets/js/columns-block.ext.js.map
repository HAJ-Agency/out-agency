{"version":3,"file":"js/columns-block.ext.js","mappings":"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","sources":["webpack://out/external window \"ReactJSXRuntime\"","webpack://out/webpack/bootstrap","webpack://out/webpack/runtime/compat get default export","webpack://out/webpack/runtime/define property getters","webpack://out/webpack/runtime/hasOwnProperty shorthand","webpack://out/webpack/runtime/make namespace object","webpack://out/./src/assets/js/columns-block.ext.js"],"sourcesContent":["module.exports = window[\"ReactJSXRuntime\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","const { addFilter } = wp.hooks;\r\nconst { createHigherOrderComponent } = wp.compose;\r\nconst { InspectorControls, BlockEdit, useSetting } = wp.blockEditor;\r\nconst { PanelRow, PanelBody, ToggleControl, TextControl, ColorPalette, RangeControl } =\r\n   wp.components;\r\nconst { Fragment } = wp.element;\r\nconst { __ } = wp.i18n;\r\n\r\n// Add extra attributes to the block\r\nconst addExtraAttributes = (settings, name) => {\r\n   if (name === \"core/columns\") {\r\n      settings.attributes = {\r\n         ...settings.attributes,\r\n         hasColumnDivider: { type: \"boolean\", default: false },\r\n         columnDividerColor: { type: \"string\", default: \"#000000\" },\r\n         columnDividerWidth: { type: \"number\", default: 1 },\r\n      };\r\n   }\r\n   return settings;\r\n};\r\naddFilter(\r\n   \"blocks.registerBlockType\",\r\n   \"extend-columns-block/add-extra-attributes\",\r\n   addExtraAttributes\r\n);\r\n\r\n// Add a input field to the block's Inspector Controls\r\nconst withExtraControls = createHigherOrderComponent((BlockEdit) => {\r\n   return (props) => {\r\n      const { attributes, setAttributes, name } = props;\r\n      if (name === \"core/columns\") {\r\n         const { hasColumnDivider, columnDividerColor, columnDividerWidth } = attributes;\r\n         const colors = useSetting(\"color.palette\");\r\n         return (\r\n            <Fragment>\r\n               <BlockEdit {...props} />\r\n               <InspectorControls>\r\n                  <PanelBody title={__(\"Kolumnavdelare\", \"your-textdomain\")}>\r\n                     <ToggleControl\r\n                        label={__(\"Visa avdelare mellan kolumner\", \"your-textdomain\")}\r\n                        checked={hasColumnDivider}\r\n                        onChange={(value) => setAttributes({ hasColumnDivider: value })}\r\n                     />\r\n                     {hasColumnDivider && (\r\n                        <>\r\n                           <ColorPalette\r\n                              colors={colors}\r\n                              label={__(\"FÃ¤rg\", \"your-textdomain\")}\r\n                              value={columnDividerColor}\r\n                              disableCustomColors={true}\r\n                              onChange={(value) => setAttributes({ columnDividerColor: value })}\r\n                           />\r\n                           <RangeControl\r\n                              label={__(\"Tjocklek (px)\", \"your-textdomain\")}\r\n                              value={columnDividerWidth}\r\n                              onChange={(value) => setAttributes({ columnDividerWidth: value })}\r\n                              min={1}\r\n                              max={10}\r\n                           />\r\n                        </>\r\n                     )}\r\n                  </PanelBody>\r\n               </InspectorControls>\r\n            </Fragment>\r\n         );\r\n      }\r\n\r\n      return <BlockEdit {...props} />;\r\n   };\r\n}, \"withExtraControls\");\r\naddFilter(\"editor.BlockEdit\", \"extend-core-columns/with-extra-controls\", withExtraControls);\r\n\r\n// Frontend\r\nconst addPropsToFrontend = (extraProps, blockType, attributes) => {\r\n   if (blockType.name === \"core/columns\") {\r\n      const { hasColumnDivider, columnDividerColor, columnDividerWidth } = attributes;\r\n\r\n      if (hasColumnDivider) {\r\n         extraProps.className = [extraProps.className || \"\", \"has-column-divider\"].join(\" \");\r\n\r\n         extraProps.style = {\r\n            ...extraProps.style,\r\n            \"--column-divider-color\": columnDividerColor,\r\n            \"--column-divider-width\": `${columnDividerWidth}px`,\r\n         };\r\n      }\r\n   }\r\n   return extraProps;\r\n};\r\naddFilter(\"blocks.getSaveContent.extraProps\", \"extend-core-group/apply-styles\", addPropsToFrontend);\r\n\r\n// Editor\r\nconst addPropsToEditor = createHigherOrderComponent((BlockListBlock) => {\r\n   return (props) => {\r\n      const { name, attributes } = props;\r\n\r\n      if (name === \"core/columns\") {\r\n         const { hasColumnDivider, columnDividerColor, columnDividerWidth } = attributes;\r\n         let wrapperProps = {};\r\n\r\n         if (hasColumnDivider) {\r\n            wrapperProps.className = [wrapperProps.className || \"\", \"has-column-divider\"].join(\" \");\r\n\r\n            let horizontalGap = \"2rem\"; // fallback\r\n            const node = document.querySelector(`[data-block=\"${props.clientId}\"]`);\r\n            if (node) {\r\n               const gapValue = getComputedStyle(node).gap;\r\n               const parts = gapValue.split(\" \");\r\n               if (parts.length === 2) {\r\n                  horizontalGap = parts[1]; // vertical gap [0], horizontal gap [1]\r\n               }\r\n            }\r\n\r\n            wrapperProps.style = {\r\n               ...wrapperProps.style,\r\n               \"--column-divider-color\": columnDividerColor,\r\n               \"--column-divider-width\": `${columnDividerWidth}px`,\r\n               \"--wp--columns-horizontal-gap\": horizontalGap,\r\n            };\r\n         }\r\n\r\n         return <BlockListBlock {...props} wrapperProps={wrapperProps} />;\r\n      }\r\n\r\n      return <BlockListBlock {...props} />;\r\n   };\r\n}, \"addPropsToEditor\");\r\n\r\naddFilter(\"editor.BlockListBlock\", \"extend-core-group/apply-styles-editor\", addPropsToEditor);\r\n"],"names":["addFilter","wp","hooks","createHigherOrderComponent","compose","InspectorControls","BlockEdit","useSetting","blockEditor","PanelRow","PanelBody","ToggleControl","TextControl","ColorPalette","RangeControl","components","Fragment","element","__","i18n","addExtraAttributes","settings","name","attributes","hasColumnDivider","type","default","columnDividerColor","columnDividerWidth","withExtraControls","props","setAttributes","colors","_jsxs","children","_jsx","title","label","checked","onChange","value","_Fragment","disableCustomColors","min","max","addPropsToFrontend","extraProps","blockType","className","join","style","addPropsToEditor","BlockListBlock","wrapperProps","horizontalGap","node","document","querySelector","clientId","gapValue","getComputedStyle","gap","parts","split","length"],"sourceRoot":""}