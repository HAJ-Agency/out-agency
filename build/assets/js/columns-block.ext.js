(()=>{"use strict";const e=window.ReactJSXRuntime,{addFilter:o}=wp.hooks,{createHigherOrderComponent:t}=wp.compose,{InspectorControls:l,BlockEdit:r,useSetting:n}=wp.blockEditor,{PanelRow:i,PanelBody:s,ToggleControl:c,TextControl:d,ColorPalette:a,RangeControl:u}=wp.components,{Fragment:m}=wp.element,{__}=wp.i18n;o("blocks.registerBlockType","extend-columns-block/add-extra-attributes",(e,o)=>("core/columns"===o&&(e.attributes={...e.attributes,hasColumnDivider:{type:"boolean",default:!1},columnDividerColor:{type:"string",default:"#000000"},columnDividerWidth:{type:"number",default:1}}),e));const p=t(o=>t=>{const{attributes:r,setAttributes:i,name:d}=t;if("core/columns"===d){const{hasColumnDivider:d,columnDividerColor:p,columnDividerWidth:h}=r,x=n("color.palette");return(0,e.jsxs)(m,{children:[(0,e.jsx)(o,{...t}),(0,e.jsx)(l,{children:(0,e.jsxs)(s,{title:__("Kolumnavdelare","your-textdomain"),children:[(0,e.jsx)(c,{label:__("Visa avdelare mellan kolumner","your-textdomain"),checked:d,onChange:e=>i({hasColumnDivider:e})}),d&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(a,{colors:x,label:__("FÃ¤rg","your-textdomain"),value:p,disableCustomColors:!0,onChange:e=>i({columnDividerColor:e})}),(0,e.jsx)(u,{label:__("Tjocklek (px)","your-textdomain"),value:h,onChange:e=>i({columnDividerWidth:e}),min:1,max:10})]})]})})]})}return(0,e.jsx)(o,{...t})},"withExtraControls");o("editor.BlockEdit","extend-core-columns/with-extra-controls",p),o("blocks.getSaveContent.extraProps","extend-core-group/apply-styles",(e,o,t)=>{if("core/columns"===o.name){const{hasColumnDivider:o,columnDividerColor:l,columnDividerWidth:r}=t;o&&(e.className=[e.className||"","has-column-divider"].join(" "),e.style={...e.style,"--column-divider-color":l,"--column-divider-width":`${r}px`})}return e}),o("editor.BlockListBlock","extend-core-group/apply-styles-editor",t(o=>t=>{const{name:l,attributes:r}=t;if("core/columns"===l){const{hasColumnDivider:l,columnDividerColor:n,columnDividerWidth:i}=r;let s={};if(l){s.className=[s.className||"","has-column-divider"].join(" ");let e="2rem";const o=document.querySelector(`[data-block="${t.clientId}"]`);if(o){const t=getComputedStyle(o).gap.split(" ");2===t.length&&(e=t[1])}s.style={...s.style,"--column-divider-color":n,"--column-divider-width":`${i}px`,"--wp--columns-horizontal-gap":e}}return(0,e.jsx)(o,{...t,wrapperProps:s})}return(0,e.jsx)(o,{...t})},"addPropsToEditor"))})();