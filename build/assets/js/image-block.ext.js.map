{"version":3,"file":"js/image-block.ext.js","mappings":"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","sources":["webpack://out/external window \"ReactJSXRuntime\"","webpack://out/webpack/bootstrap","webpack://out/webpack/runtime/compat get default export","webpack://out/webpack/runtime/define property getters","webpack://out/webpack/runtime/hasOwnProperty shorthand","webpack://out/webpack/runtime/make namespace object","webpack://out/./src/assets/js/image-block.ext.js"],"sourcesContent":["module.exports = window[\"ReactJSXRuntime\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","const { addFilter } = wp.hooks;\r\nconst { createHigherOrderComponent } = wp.compose;\r\nconst { InspectorControls, useBlockProps } = wp.blockEditor;\r\nconst {\r\n   PanelRow,\r\n   PanelBody,\r\n   ToggleControl,\r\n   CustomSelectControl,\r\n   RadioControl,\r\n   TextControl,\r\n   RangeControl,\r\n} = wp.components;\r\nconst { Fragment, useRef } = wp.element;\r\nconst { __ } = wp.i18n;\r\n\r\n// Add extra attributes to the block\r\nconst addExtraAttributes = (settings, name) => {\r\n   if (name === \"core/image\") {\r\n      settings.attributes = {\r\n         ...settings.attributes,\r\n         watermark: {\r\n            type: \"boolean\",\r\n            default: false,\r\n         },\r\n         watermarkPosition: {\r\n            type: \"object\",\r\n            default: {\r\n               x: \"0\",\r\n               y: \"0\",\r\n            },\r\n         },\r\n         watermarkOpacity: {\r\n            type: \"number\",\r\n            default: 1,\r\n         },\r\n         isHideOnMobile: {\r\n            type: \"boolean\",\r\n            default: false,\r\n         },\r\n         isHideOnDesktop: {\r\n            type: \"boolean\",\r\n            default: false,\r\n         },\r\n      };\r\n   }\r\n   return settings;\r\n};\r\naddFilter(\r\n   \"blocks.registerBlockType\",\r\n   \"extend-cover-block/add-extra-attributes\",\r\n   addExtraAttributes\r\n);\r\n\r\n// Add a input field to the block's Inspector Controls\r\nconst withExtraControls = createHigherOrderComponent((BlockEdit) => {\r\n   return (props) => {\r\n      const { attributes, setAttributes, name } = props;\r\n      if (name === \"core/image\") {\r\n         const { watermark, watermarkPosition, watermarkOpacity, isHideOnMobile, isHideOnDesktop } =\r\n            attributes;\r\n\r\n         const WatermarkPositionPicker = ({ value, onChange }) => {\r\n            const pickerRef = useRef(null);\r\n\r\n            const handleClick = (event) => {\r\n               const boundingRect = pickerRef.current.getBoundingClientRect();\r\n               const offsetX = event.clientX - boundingRect.left;\r\n               const offsetY = event.clientY - boundingRect.top;\r\n\r\n               const x = Math.round((offsetX / boundingRect.width) * 200 - 100);\r\n               const y = Math.round((offsetY / boundingRect.height) * 200 - 100);\r\n\r\n               onChange({\r\n                  x: Math.max(-100, Math.min(100, x)),\r\n                  y: Math.max(-100, Math.min(100, y)),\r\n               });\r\n            };\r\n\r\n            return (\r\n               <div\r\n                  ref={pickerRef}\r\n                  style={{\r\n                     position: \"relative\",\r\n                     width: \"100%\",\r\n                     height: \"150px\",\r\n                     background: \"#f0f0f0\",\r\n                     border: \"1px solid #ccc\",\r\n                     borderRadius: \"4px\",\r\n                     cursor: \"crosshair\",\r\n                     userSelect: \"none\",\r\n                     boxSizing: \"border-box\",\r\n                  }}\r\n                  onClick={handleClick}>\r\n                  {/* Marker for current position */}\r\n                  <div\r\n                     style={{\r\n                        position: \"absolute\",\r\n                        top: `${75 + (value.y * 75) / 100}px`, // Adjust for rectangle height\r\n                        left: `${50 + (value.x * 50) / 100}%`, // Adjust for full width\r\n                        width: \"10px\",\r\n                        height: \"10px\",\r\n                        background: \"#D6EBFF\",\r\n                        border: \"1px solid #002A3A\",\r\n                        borderRadius: \"50%\",\r\n                        transform: \"translate(-50%, -50%)\",\r\n                        pointerEvents: \"none\",\r\n                     }}\r\n                  />\r\n               </div>\r\n            );\r\n         };\r\n\r\n         const updateWatermarkPosition = (newPosition) => {\r\n            setAttributes({ watermarkPosition: newPosition });\r\n         };\r\n\r\n         return (\r\n            <Fragment>\r\n               <BlockEdit {...props} />\r\n               <InspectorControls>\r\n                  <PanelBody title={__(\"Vattenstämpel\", \"trelleborg\")}>\r\n                     <PanelRow>\r\n                        <div className=\"full-width-control\">\r\n                           <ToggleControl\r\n                              label={__(\"Använd som vattenstämpel\", \"trelleborg\")}\r\n                              checked={watermark}\r\n                              onChange={(value) => {\r\n                                 setAttributes({ watermark: value });\r\n                              }}\r\n                           />\r\n                        </div>\r\n                     </PanelRow>\r\n                     {watermark && (\r\n                        <>\r\n                           <PanelRow>\r\n                              <WatermarkPositionPicker\r\n                                 value={watermarkPosition}\r\n                                 onChange={updateWatermarkPosition}\r\n                              />\r\n                           </PanelRow>\r\n                           <PanelRow>\r\n                              <div className=\"full-width-control\">\r\n                                 <RangeControl\r\n                                    label={__(\"Opacitet\", \"trelleborg\")}\r\n                                    value={watermarkOpacity}\r\n                                    onChange={(value) => setAttributes({ watermarkOpacity: value })}\r\n                                    min={0}\r\n                                    max={1}\r\n                                    step={0.005}\r\n                                 />\r\n                              </div>\r\n                           </PanelRow>\r\n                        </>\r\n                     )}\r\n                  </PanelBody>\r\n                  <PanelBody title={__(\"Dölj på olika skärmstorlekar\", \"trelleborg\")}>\r\n                     <PanelRow>\r\n                        <div className=\"full-width-control\">\r\n                           <ToggleControl\r\n                              label={__(\"Dölj på Mobil\", \"trelleborg\")}\r\n                              checked={isHideOnMobile}\r\n                              onChange={(value) => {\r\n                                 setAttributes({ isHideOnMobile: value });\r\n                              }}\r\n                           />\r\n                        </div>\r\n                     </PanelRow>\r\n                     <PanelRow>\r\n                        <div className=\"full-width-control\">\r\n                           <ToggleControl\r\n                              label={__(\"Dölj på Desktop\", \"trelleborg\")}\r\n                              checked={isHideOnDesktop}\r\n                              onChange={(value) => {\r\n                                 setAttributes({ isHideOnDesktop: value });\r\n                              }}\r\n                           />\r\n                        </div>\r\n                     </PanelRow>\r\n                  </PanelBody>\r\n               </InspectorControls>\r\n            </Fragment>\r\n         );\r\n      }\r\n      return <BlockEdit {...props} />;\r\n   };\r\n}, \"withExtraControls\");\r\naddFilter(\"editor.BlockEdit\", \"extend-core-image/with-extra-controls\", withExtraControls);\r\n\r\n// Frontend\r\nconst addPropsToFrontend = (extraProps, blockType, attributes) => {\r\n   if (blockType.name === \"core/image\") {\r\n      const { watermark, watermarkPosition, watermarkOpacity, isHideOnMobile, isHideOnDesktop } =\r\n         attributes;\r\n\r\n      if (watermark) {\r\n         extraProps.style = {\r\n            ...extraProps.style,\r\n            \"--watermark-position-x\": `${watermarkPosition.x}`,\r\n            \"--watermark-position-y\": `${watermarkPosition.y}`,\r\n            \"--watermark-opacity\": watermarkOpacity !== undefined ? `${watermarkOpacity}` : 1,\r\n         };\r\n\r\n         extraProps.className = [extraProps.className || \"\", \"image-is-watermark\"]\r\n            .filter(Boolean) // Remove empty strings\r\n            .join(\" \");\r\n      }\r\n\r\n      if (isHideOnMobile) {\r\n         extraProps.className = [extraProps.className || \"\", \"is-mobile-hidden\"]\r\n            .filter(Boolean) // Remove empty strings\r\n            .join(\" \");\r\n      }\r\n\r\n      if (isHideOnDesktop) {\r\n         extraProps.className = [extraProps.className || \"\", \"is-desktop-hidden\"]\r\n            .filter(Boolean) // Remove empty strings\r\n            .join(\" \");\r\n      }\r\n   }\r\n\r\n   return extraProps;\r\n};\r\nwp.hooks.addFilter(\r\n   \"blocks.getSaveContent.extraProps\",\r\n   \"extend-core-image/apply-styles\",\r\n   addPropsToFrontend\r\n);\r\n\r\n// Editor\r\nconst addPropsToEditor = createHigherOrderComponent((BlockListBlock) => {\r\n   return (props) => {\r\n      const { name, attributes } = props;\r\n\r\n      if (name === \"core/image\") {\r\n         const { watermark, watermarkPosition, watermarkOpacity, isHideOnMobile, isHideOnDesktop } =\r\n            attributes;\r\n\r\n         let wrapperProps = {};\r\n\r\n         if (watermark) {\r\n            wrapperProps[\"data-is-watermark\"] = `true`;\r\n            wrapperProps.style = {\r\n               ...wrapperProps.style,\r\n               \"--watermark-position-x\": `${watermarkPosition.x}`,\r\n               \"--watermark-position-y\": `${watermarkPosition.y}`,\r\n               \"--watermark-opacity\": watermarkOpacity !== undefined ? `${watermarkOpacity}` : 1,\r\n            };\r\n         }\r\n\r\n         if (isHideOnMobile) {\r\n            wrapperProps.className = [wrapperProps.className || \"\", \"is-mobile-hidden\"]\r\n               .filter(Boolean) // Remove empty strings\r\n               .join(\" \");\r\n         }\r\n\r\n         if (isHideOnDesktop) {\r\n            wrapperProps.className = [wrapperProps.className || \"\", \"is-desktop-hidden\"]\r\n               .filter(Boolean) // Remove empty strings\r\n               .join(\" \");\r\n         }\r\n\r\n         return <BlockListBlock {...props} wrapperProps={wrapperProps} />;\r\n      }\r\n\r\n      return <BlockListBlock {...props} />;\r\n   };\r\n}, \"addPropsToEditor\");\r\n\r\nwp.hooks.addFilter(\r\n   \"editor.BlockListBlock\",\r\n   \"extend-core-image/apply-styles-editor\",\r\n   addPropsToEditor\r\n);\r\n"],"names":["addFilter","wp","hooks","createHigherOrderComponent","compose","InspectorControls","useBlockProps","blockEditor","PanelRow","PanelBody","ToggleControl","CustomSelectControl","RadioControl","TextControl","RangeControl","components","Fragment","useRef","element","__","i18n","addExtraAttributes","settings","name","attributes","watermark","type","default","watermarkPosition","x","y","watermarkOpacity","isHideOnMobile","isHideOnDesktop","withExtraControls","BlockEdit","props","setAttributes","WatermarkPositionPicker","value","onChange","pickerRef","handleClick","event","boundingRect","current","getBoundingClientRect","offsetX","clientX","left","offsetY","clientY","top","Math","round","width","height","max","min","_jsx","ref","style","position","background","border","borderRadius","cursor","userSelect","boxSizing","onClick","children","transform","pointerEvents","updateWatermarkPosition","newPosition","_jsxs","title","className","label","checked","_Fragment","step","addPropsToFrontend","extraProps","blockType","undefined","filter","Boolean","join","addPropsToEditor","BlockListBlock","wrapperProps"],"sourceRoot":""}